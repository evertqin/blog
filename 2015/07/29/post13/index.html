<!doctype html>




<html class="theme-next mist" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/blog/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/blog/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/blog/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Technology,C#," />





  <link rel="alternate" href="/blog/atom.xml" title="while(1);" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/blog/favicon.ico?v=5.1.1" />






<meta name="description" content="Create ASP.NET website with SignalRFrom asp.net, SignalR “is a library for ASP.NET developers that simplifies the process of adding real-time web functionality to applications. Real-time web functiona">
<meta name="keywords" content="Technology,C#">
<meta property="og:type" content="article">
<meta property="og:title" content="Combine WCF, ASP.NET, SignalR for event broadcasting (2)">
<meta property="og:url" content="https://evertqin.github.io/blog/2015/07/29/post13/index.html">
<meta property="og:site_name" content="while(1);">
<meta property="og:description" content="Create ASP.NET website with SignalRFrom asp.net, SignalR “is a library for ASP.NET developers that simplifies the process of adding real-time web functionality to applications. Real-time web functiona">
<meta property="og:image" content="http://i.imgur.com/zG97g3C.png">
<meta property="og:image" content="http://i.imgur.com/AmrCqC9.png">
<meta property="og:updated_time" content="2017-06-26T16:50:17.980Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Combine WCF, ASP.NET, SignalR for event broadcasting (2)">
<meta name="twitter:description" content="Create ASP.NET website with SignalRFrom asp.net, SignalR “is a library for ASP.NET developers that simplifies the process of adding real-time web functionality to applications. Real-time web functiona">
<meta name="twitter:image" content="http://i.imgur.com/zG97g3C.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/blog/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: false,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://evertqin.github.io/blog/2015/07/29/post13/"/>





  <title>Combine WCF, ASP.NET, SignalR for event broadcasting (2) | while(1);</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/blog/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">while(1);</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">A dumpster of everything</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/blog/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/blog/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/blog/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/blog/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-instagram">
          <a href="https://www.instagram.com/evertqin/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            instagram
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://evertqin.github.io/blog/blog/2015/07/29/post13/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="R Qin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="while(1);">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">Combine WCF, ASP.NET, SignalR for event broadcasting (2)</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-07-29T00:00:00-04:00">
                2015-07-29
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/blog/2015/07/29/post13/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2015/07/29/post13/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <h4 id="Create-ASP-NET-website-with-SignalR"><a href="#Create-ASP-NET-website-with-SignalR" class="headerlink" title="Create ASP.NET website with SignalR"></a>Create ASP.NET website with SignalR</h4><p>From <a href="http://www.asp.net/signalr/overview/getting-started/introduction-to-signalr" target="_blank" rel="external">asp.net</a>, SignalR <em>“is a library for ASP.NET developers that simplifies the process of adding real-time web functionality to applications. Real-time web functionality is the ability to have server code push content to connected clients instantly as it becomes available, rather than having the server wait for a client to request new data.”</em> with signalR, it is relatively easy to create a socket between frontend an backend so we can pass data bi-directionally.</p>
<a id="more"></a>
<ul>
<li><p>Create an empty website (File-&gt;New…-&gt;Web Site..-&gt; ASP.NET Empty Web Site)</p>
</li>
<li><p>Add SignalR through Nuget. Current version is 2.2.0 and the minimal required .NET framework is 4.5. You can open Nuget Package Manager Console and run <code>Install-Package Microsoft.AspNet.SignalR</code>. This will install all the dependencies.</p>
</li>
<li><p>Start the WCF Service. Use the endpoint from the WCF service (net.tcp://localhost:8733/MyWcfService/), add it as a service Reference.</p>
</li>
<li><p>Add Owin Startup class. Right Click project then Add…-&gt; New Item… -&gt; OWIN Startup class. You can name it Startup.cs. Add <code>app.MapSignalR();</code> into the function “Configuration” for now.</p>
</li>
<li><p>Add Hub class. Hub class, by the name, is the place that all the clients are connecting to so they can exchange messages. To make sure out hub class can talk with both javascript frontend and WCF backend, we need to derive our class from Hub class and implements our IClientCallback. The full code:</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">public delegate void BroadcastEventhander(object sender, string message);</div><div class="line"></div><div class="line">[CallbackBehavior(ConcurrencyMode = ConcurrencyMode.Reentrant, UseSynchronizationContext = false)]</div><div class="line">public class StatusUpdateHandlerHub : Hub, IMyWcfServiceAsyncCallback</div><div class="line">&#123;</div><div class="line">    public static event BroadcastEventhander BroadcastEvent;</div><div class="line"></div><div class="line">    public void ListenToStatus()</div><div class="line">    &#123;</div><div class="line">        if (BroadcastEvent == null)</div><div class="line">        &#123;</div><div class="line">            BroadcastEvent += (sender, message) =&gt; &#123; Clients.All.listenToStatus(message); &#125;;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public void NotifyClient(string message)</div><div class="line">    &#123;</div><div class="line">        if (BroadcastEvent != null)</div><div class="line">        &#123;</div><div class="line">            BroadcastEvent(this, message);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>Add or Replace the content of index.html with the following code:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">    &lt;title&gt;LogStatusBroadcast Simple Chat&lt;/title&gt;</div><div class="line">    &lt;style type=&quot;text/css&quot;&gt;</div><div class="line">        .container &#123;</div><div class="line">            background-color: #99CCFF;</div><div class="line">            border: thick solid #808080;</div><div class="line">            padding: 20px;</div><div class="line">            margin: 20px;</div><div class="line">        &#125;</div><div class="line">    &lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">&lt;div class=&quot;container&quot;&gt;</div><div class="line">    &lt;span&gt;Status: &lt;/span&gt;</div><div class="line">    &lt;span id=&quot;statusDiv&quot;&gt;&lt;/span&gt;</div><div class="line">&lt;/div&gt;</div><div class="line"></div><div class="line">&lt;!--Script references. --&gt;</div><div class="line">&lt;!--Reference the jQuery library. --&gt;</div><div class="line">&lt;script src=&quot;Scripts/jquery-1.10.2.min.js&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;!--Reference the SignalR library. --&gt;</div><div class="line">&lt;script src=&quot;Scripts/jquery.signalR-2.2.0.min.js&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;!--Reference the autogenerated SignalR hub script. --&gt;</div><div class="line">&lt;script src=&quot;signalr/hubs&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;!--Add script to update the page and send messages.--&gt;</div><div class="line">&lt;script src=&quot;Scripts/broadcast.js&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p>  The actualy jQuery library may vary, double check your Scripts folder and use correct jQuery library.</p>
<ul>
<li>Add some logic to OWIN Startup class to mimic to following workflow: client first subscribe it to the service log broadcaster, then client explicitly call another service and get updates. Updated Startup.cs will look like this:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div></pre></td><td class="code"><pre><div class="line">public class Startup</div><div class="line">&#123;</div><div class="line">    private string DEFAULT_TCP_BINDING_ENDPOINT_NAME = &quot;NetTcpBinding_IMyWcfService&quot;;</div><div class="line">    private string DEFAULT_TCP_ASYNC_BINDING_ENDPOINT_NAME = &quot;NetTcpBinding_IMyWcfServiceAsync&quot;;</div><div class="line"></div><div class="line">    private MyWcfServiceClient _mywcfServiceClient;</div><div class="line">    private MyWcfServiceAsyncClient _myWcfServiceAsyncClient;</div><div class="line">    private StatusUpdateHandlerHub _statusUpdateHanderHub;</div><div class="line"></div><div class="line"></div><div class="line">    public MyWcfServiceClient MyWcfServiceClient</div><div class="line">    &#123;</div><div class="line">        get</div><div class="line">        &#123;</div><div class="line">            if (_mywcfServiceClient == null)</div><div class="line">            &#123;</div><div class="line">                _mywcfServiceClient = new MyWcfServiceClient(DEFAULT_TCP_BINDING_ENDPOINT_NAME);</div><div class="line">            &#125;</div><div class="line"></div><div class="line">            if (_mywcfServiceClient.State == System.ServiceModel.CommunicationState.Closed)</div><div class="line">            &#123;</div><div class="line">                _mywcfServiceClient.Open();</div><div class="line">            &#125;</div><div class="line">            return _mywcfServiceClient;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public MyWcfServiceAsyncClient MyWcfServiceAsyncClient</div><div class="line">    &#123;</div><div class="line">        get</div><div class="line">        &#123;</div><div class="line">            if (_myWcfServiceAsyncClient == null)</div><div class="line">            &#123;</div><div class="line">                InstanceContext instanceContext = new InstanceContext(StatusUpdateHandlerHub);</div><div class="line">                _myWcfServiceAsyncClient = new MyWcfServiceAsyncClient(instanceContext);</div><div class="line">            &#125;</div><div class="line"></div><div class="line">            if (_myWcfServiceAsyncClient.State == CommunicationState.Closed)</div><div class="line">            &#123;</div><div class="line">                _myWcfServiceAsyncClient.Open();</div><div class="line">            &#125;</div><div class="line"></div><div class="line">            return _myWcfServiceAsyncClient;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public StatusUpdateHandlerHub StatusUpdateHandlerHub</div><div class="line">    &#123;</div><div class="line">        get &#123; return _statusUpdateHanderHub ?? (_statusUpdateHanderHub = new StatusUpdateHandlerHub()); &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line"></div><div class="line">    public void Configuration(IAppBuilder app)</div><div class="line">    &#123;</div><div class="line"></div><div class="line">        // For more information on how to configure your application, visit http://go.microsoft.com/fwlink/?LinkID=316888</div><div class="line">        app.MapSignalR();</div><div class="line">        MyWcfServiceAsyncClient.ListenToEvents();</div><div class="line"></div><div class="line">        MyWcfServiceClient.DoWork();</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>Add broadcast.js under Scripts with the following content:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">$(function() &#123;</div><div class="line">  var anaHub = $.connection.statusUpdateHandlerHub; // this is always the class name with the first letter lower case</div><div class="line"></div><div class="line">  anaHub.client.listenToStatus = function(message) &#123;</div><div class="line">      $(&quot;#statusDiv&quot;).html(message);</div><div class="line">  &#125;;</div><div class="line">  $.connection.hub.start().done(function() &#123;</div><div class="line">      anaHub.server.listenToStatus(); // similarly, this is the function name in the hub with the first letter lowered</div><div class="line">  &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>Explanation: We first get a object of the hub by calling $.connection.{hubname}. Then we add a listenToStatus function to the clients. So we can invoke this from backend <code>Clients.All.listenToStatus(message);</code>  </p>
<p>From the client, we also call the server function <code>listenToStatus</code> which is also defined in the Hub class <code>public void ListenToStatus() {...}</code></p>
<p><img src="http://i.imgur.com/zG97g3C.png" alt="Complete SignalR Project"></p>
<p>Run the program, you should be able to see the ticking time now!</p>
<p><img src="http://i.imgur.com/AmrCqC9.png" alt="Ticking Timer"></p>
<p>Source code can be found on <a href="https://github.com/evertqin/DotNetDemos/tree/master/SignalR_ASP_WCF" target="_blank" rel="external">GitHub</a></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/blog/tags/Technology/" rel="tag"># Technology</a>
          
            <a href="/blog/tags/C/" rel="tag"># C#</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/blog/2015/07/23/post11/" rel="next" title="Canada Banff, Yoho, Jasper trip(5)">
                <i class="fa fa-chevron-left"></i> Canada Banff, Yoho, Jasper trip(5)
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/blog/2015/07/29/post12/" rel="prev" title="Combine WCF, ASP.NET, SignalR for event broadcasting (1)">
                Combine WCF, ASP.NET, SignalR for event broadcasting (1) <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/blog/images/avatar.gif"
               alt="R Qin" />
          <p class="site-author-name" itemprop="name">R Qin</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
           
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/blog/archives/">
                <span class="site-state-item-count">33</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/blog/tags/index.html">
                <span class="site-state-item-count">26</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/blog/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#Create-ASP-NET-website-with-SignalR"><span class="nav-number">1.</span> <span class="nav-text">Create ASP.NET website with SignalR</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">R Qin</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/blog/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/blog/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/blog/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/blog/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/blog/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/blog/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/blog/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/blog/js/src/motion.js?v=5.1.1"></script>



  
  

  
  <script type="text/javascript" src="/blog/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/blog/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/blog/js/src/bootstrap.js?v=5.1.1"></script>



  


  

    
      <script id="dsq-count-scr" src="https://tripplaninfo.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'https://evertqin.github.io/blog/2015/07/29/post13/';
          this.page.identifier = '2015/07/29/post13/';
          this.page.title = 'Combine WCF, ASP.NET, SignalR for event broadcasting (2)';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://tripplaninfo.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  













  





  

  

  

  

  

  

</body>
</html>
